<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Language" content="en">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="robots" content="index,follow">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="CyphrIM">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@CyphrIM">
    <meta name="twitter:creator" content="@CyphrIM">
    <meta name="twitter:title" content="CyphrIM - An encrypted messaging web app">
    <meta name="twitter:description" content="Messages are encrypted and signed by key pairs chained one after another. Synchronised peer-to-peer without server owning user data.">
    <meta name="twitter:image" content="<%= IMAGES_CDN_DOMAIN %>/logo.webp">
    <meta property="og:title" content="CyphrIM - An encrypted messaging web app">
    <meta property="og:image" content="<%= IMAGES_CDN_DOMAIN %>/logo.webp">
    <link rel="apple-touch-icon" sizes="180x180" href="<%= STATIC_CDN_DOMAIN %>/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="<%= STATIC_CDN_DOMAIN %>/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="<%= STATIC_CDN_DOMAIN %>/favicon/favicon-16x16.png">
    <link rel="manifest" href="<%= STATIC_CDN_DOMAIN %>/favicon/site.webmanifest">
    <meta name="description" content="Messages are encrypted and signed by key pairs chained one after another. Synchronised peer-to-peer without server owning user data." />
    <meta name="keywords" content="Instant Messaging,Encrypted,Distributed,Decentralised,P2P,Open Source" />
    <title>CyphrIM - An encrypted messaging web app</title>
    <%= htmlWebpackPlugin.options.head %>
  </head>
  <body>
    <style type="text/css">
      @font-face {
        font-family: 'Roboto';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url(<%= STATIC_CDN_DOMAIN %>/fonts/roboto.400.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
      }
      @font-face {
        font-family: 'Roboto';
        font-style: normal;
        font-weight: 700;
        font-display: swap;
        src: url(<%= STATIC_CDN_DOMAIN %>/fonts/roboto.700.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
      }
      body {
        -webkit-tap-highlight-color: rgba(0,0,0,0);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        touch-callout: none;
        user-select: text;
        margin: 0;
        padding: 0;
      }
      h2, h3, h4, h5, h6 {
        font-weight: inherit;
        font-size: inherit;
        margin: inherit;
        display: inherit;
      }
      ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
      }
      input {
        -webkit-tap-highlight-color: rgba(242,242,242,0.1);
      }
      a:link,
      a:active,
      a:visited {
        color: inherit;
      }
    </style>

    <%= htmlWebpackPlugin.options.portal %>
    <div id="app"><%= htmlWebpackPlugin.options.app %></div>

    <script>
      window.env = {
        APP_DOMAIN: '<%= APP_DOMAIN %>',
        GUN_DOMAIN: '<%= GUN_DOMAIN %>',
        IMAGES_CDN_DOMAIN: '<%= IMAGES_CDN_DOMAIN %>',
        STATIC_CDN_DOMAIN: '<%= STATIC_CDN_DOMAIN %>',
        TIMESTAMP: '<%= TIMESTAMP %>',
      }
    </script>

    <% htmlWebpackPlugin.options.files.css.forEach(function(href) { %>
      <link href="<%= href %>" rel="stylesheet">
    <% }) %>
    <% htmlWebpackPlugin.options.files.js.forEach(function(src) { %>
      <script src="<%= src %>"></script>
    <% }) %>
  </body>
</html>
